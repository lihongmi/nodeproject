
前奏
常常看见一些网站有邮箱获取验证码 验证注册或者修改密码的功能
Nodemailer 是 Node.js 的一个发送邮件的模块 并且操作也十分方便

给大家演示下具体使用

新建演示项目
安装nodemailer模块
新建项目入口文件
vscode 打开项目
引入nodemailer


一
创建发送对象transporter
host:smtp.163.com
host 代表邮箱服务的主机 163邮箱为smtp.163.com  qq邮箱为smtp.qq.com   我们使用163邮箱
  
开启安全连接 port填写465
如果不开启安全链接 则可以填写其它端口号


发件人邮箱账号 
发件人邮箱的授权码 这里可以通过邮箱账户中心获取


二
创建完 transporter发送对象后


transporter.sendMail用来发送邮件


发送内容用mailOption来配置

定义下发送失败打印错误信息
发送成功打印邮件发送成功的信息

三接下来
配置下我们具体的发送内容

from 发件人邮箱
to 收件人邮箱，多个邮箱地址间用','隔开
subject 邮件主题
text邮箱内容
欢迎来关注公众号 ITvlog
每天提供3-5分钟高质量视频
让你碎片化的事件每天都进步一点

四
接下来看下邮箱授权码的获取  
注意授权码并不是邮箱密码

进入邮箱账户中心
点击设置
查找pop3的配置
开启pop3 就能得到 我们邮箱的授权码

五
发送主题内容可以是html
我们添加写html标签 
使用样式修饰下  ITvlog

六
我们还可以发送邮箱附件

这里我们把当前项目的脚本文件 当作附件发送出去

整体看下代码

运行项目
查看邮箱
可以看到 我们的qq邮箱收到了163 发送的邮件
可以看到发送的附件
html和样式也可看到


